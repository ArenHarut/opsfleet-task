flowchart TB
    subgraph Internet["‚òÅÔ∏è INTERNET"]
        Users["üë• Users"]
    end

    subgraph AWS["AWS Cloud"]
        subgraph Edge["Edge Layer"]
            R53["Route 53<br/>DNS"]
            CF["CloudFront<br/>CDN + WAF"]
            S3["S3 Bucket<br/>React SPA"]
        end

        subgraph VPC["VPC (10.0.0.0/16)"]
            subgraph Public["Public Subnets"]
                ALB["Application<br/>Load Balancer"]
                NAT["NAT<br/>Gateways"]
            end

            subgraph Private["Private Subnets (Application)"]
                subgraph EKS["EKS Cluster"]
                    API["Flask API<br/>Pods"]
                    Ingress["Ingress<br/>Controller"]
                    HPA["HPA<br/>Auto-scaling"]
                end
            end

            subgraph Database["Private Subnets (Database)"]
                RDS_Primary["RDS PostgreSQL<br/>Primary"]
                RDS_Standby["RDS PostgreSQL<br/>Standby"]
            end
        end

        subgraph Services["Supporting Services"]
            ECR["ECR<br/>Container Registry"]
            SM["Secrets<br/>Manager"]
            KMS["KMS<br/>Encryption"]
            CW["CloudWatch<br/>Monitoring"]
            GD["GuardDuty<br/>Security"]
        end
    end

    subgraph CICD["CI/CD Pipeline"]
        GH["GitHub"]
        GHA["GitHub<br/>Actions"]
        ARGO["ArgoCD"]
    end

    Users --> R53
    R53 --> CF
    CF --> S3
    CF --> ALB
    ALB --> Ingress
    Ingress --> API
    API --> RDS_Primary
    RDS_Primary <-.->|Sync Replication| RDS_Standby
    
    GH --> GHA
    GHA --> ECR
    ECR --> ARGO
    ARGO --> EKS
    
    API -.-> SM
    API -.-> CW
    EKS -.-> NAT
    
    classDef aws fill:#FF9900,stroke:#232F3E,color:#232F3E
    classDef security fill:#DD344C,stroke:#232F3E,color:white
    classDef database fill:#3B48CC,stroke:#232F3E,color:white
    classDef compute fill:#ED7100,stroke:#232F3E,color:white
    classDef network fill:#8C4FFF,stroke:#232F3E,color:white
    
    class R53,CF,S3,ALB,NAT,ECR,SM,KMS,CW aws
    class GD security
    class RDS_Primary,RDS_Standby database
    class API,EKS,Ingress,HPA compute
